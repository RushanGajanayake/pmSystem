package models.manager;

import java.io.Serializable;
import java.sql.*;
import java.util.ArrayList;

import com.mysql.jdbc.PreparedStatement;

import dbConnector.dbConnection;
import models.userData;

public class userdataManager 
{
	
	public ArrayList<userData> getUserData(String uid){
		
		ArrayList<userData> userdetails = new ArrayList<userData>();
		
		try{
			
			Connection con = dbConnection.connector();
			
			PreparedStatement ps = (PreparedStatement) con.prepareStatement("select * from users where user_id=?");
			
			ps.setString(1,uid);
			ResultSet rs =ps.executeQuery();
						
			while(rs.next()){				
				userData u = new userData();
				u.setNic(rs.getString("NIC"));
				u.setFirstname(rs.getString("Name"));
				u.setLastname(rs.getString("Surname"));
				u.setDob(rs.getString("DOB"));
				u.setStreet(rs.getString("Street"));
				u.setCity(rs.getString("City"));
				u.setTelephone(rs.getString("Telephone"));
				u.setEmail(rs.getString("Email"));
				u.setReg_date(rs.getString("Reg_Date"));
				userdetails.add(u);
				System.out.println(rs.getString("Name"));
			}
			
			
		}
		catch(Exception e){
			return null;
		}
		
		
		return userdetails;
		
		
	}
	

}
